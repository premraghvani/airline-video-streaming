<!DOCTYPE html>
<html>
    <head>
        <title>Streambox | Entertainment to your Seat</title>
        <link rel="stylesheet" href="plyr.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!--modal-->
        <div id="modal" class="modal">
            <div class="modalContent">
                <span class="close" id="closeBtn">&times;</span>
                <p id="modalText">---</p>
            </div>
        </div>
        <!--top-->
        <div class="topbar">
            <strong style="font-size: 2em;">Streambox</strong>
            <span style="font-size: 0.5em;">
                <br>
                <a class="toreplace-flightNum">{{flightNum}}</a> <a class="toreplace-originCode">{{originCode}}</a>-<a class="toreplace-destinationCode">{{destinationCode}}</a> | Service Availability: <span id="availabilityStatus" style="color: #880;" id="availability">I don't know</span>
            </span>
        </div>
        <!--Categories-->
        <div class="container" id="libraries">
            <h1>Welcome Onboard</h1>
            <p style="text-align: center;">We hope that you enjoy your journey to <a class="toreplace-destination">{{destination}}</a>, and we also hope that you enjoy the selection of video that we have onboard today.</p>
            <h2 style="text-align: center;">What would you like to watch?</h2>
            <div class="genreButtons">
                {{genres}}
            </div>
        </div>
        <!--genre selection-->
        <div class="container" id="categoryLibrary" style="display: none;">
            <button class="back" id="backMain" onclick="goBack()">Back</button>
            <div id="movieTop"></div>
            <div class="movieContainer" id="movieContainer">
                {{movies}}
            </div>
        </div>
        <!--movie-->
        <div class="container" style="display: none;" id="content">
            <button class="back" id="backFilm" onclick="goBack()">Back</button>
            <div class="movieView">
                <div class="videoContainer">
                    <video id="filmVideo" playsinline controls>
                    </video>
                </div>
            </div>
            <h2 id="filmTitle">{{title}}</h2>
            <p id="filmDescription">{{description}}</p>
            <p id="filmYearGenre">{{year}} | {{genre}}</p>
            <p id="filmCast">{{director}} | {{sast}}</p>
            <button id="filmReviewsToggle" class="back" style="width: 400px; font-size: 1.5em;" onclick="toggleFilmReviews()">Show Film Reviews (Spoiler Alert!)</button>
        </div>
        <!--Reviews-->
        <div class="container" id="filmReviews" style="display: none;">
            <h3>Write a Review</h3>
            <form id="filmReviewForm">
                <label for="review">Your Review</label><br>
                <textarea id="review" cols="80" rows="5" style="width: 100%"></textarea>
                <input id="movieIdReview" type="hidden" readonly value="">
                <br>
                <input type="submit" value="Send Review" style="width: 100%;" id="reviewsend"><br>
                <label>Reviews will be sent for moderation, and will not immediately appear.</label>
            </form>

            <h3>Reviews</h3>
            <div class="reviews" id="filmReviewContent">
                {{reviews}}
            </div>
        </div>
    </body>
</html>
<script src="script.js"></script>
<script src="plyr.js"></script>
<script>
    const player = new Plyr('#filmVideo', {
        controls: ['play', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen']
    });
</script>